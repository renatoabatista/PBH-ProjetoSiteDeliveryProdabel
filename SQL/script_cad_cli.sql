-- MySQL Script generated by MySQL Workbench
-- qui 11 mar 2021 22:33:12 -03
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema PACAI_JA_WEB
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema PACAI_JA_WEB
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `PACAI_JA_WEB` DEFAULT CHARACTER SET utf8 COLLATE utf8_bin ;
USE `PACAI_JA_WEB` ;

-- -----------------------------------------------------
-- Table `PACAI_JA_WEB`.`TB_UF`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `PACAI_JA_WEB`.`TB_UF` (
  `IDUF` INT NOT NULL AUTO_INCREMENT,
  `UF` VARCHAR(2) NULL,
  PRIMARY KEY (`IDUF`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `PACAI_JA_WEB`.`TB_CIDADE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `PACAI_JA_WEB`.`TB_CIDADE` (
  `IDCIDADE` INT NOT NULL AUTO_INCREMENT,
  `CIDADE` VARCHAR(50) NOT NULL,
  `TB_UF_IDUF` INT NOT NULL,
  PRIMARY KEY (`IDCIDADE`, `TB_UF_IDUF`),
  INDEX `fk_TB_CIDADE_TB_UF1_idx` (`TB_UF_IDUF` ASC) VISIBLE,
  CONSTRAINT `fk_TB_CIDADE_TB_UF1`
    FOREIGN KEY (`TB_UF_IDUF`)
    REFERENCES `PACAI_JA_WEB`.`TB_UF` (`IDUF`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `PACAI_JA_WEB`.`TB_ENDERECO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `PACAI_JA_WEB`.`TB_ENDERECO` (
  `IDENDERECO` INT NOT NULL AUTO_INCREMENT,
  `ENDEREÃ‡O` VARCHAR(15) NOT NULL,
  `NUMERO` INT NOT NULL,
  `BAIRRO` VARCHAR(45) NOT NULL,
  `CEP` INT(15) NULL,
  `COMPLEMENTO` VARCHAR(45) NULL,
  `TB_CIDADE_IDCIDADE` INT NOT NULL,
  PRIMARY KEY (`IDENDERECO`, `TB_CIDADE_IDCIDADE`),
  INDEX `fk_TB_ENDERECO_TB_CIDADE1_idx` (`TB_CIDADE_IDCIDADE` ASC) VISIBLE,
  CONSTRAINT `fk_TB_ENDERECO_TB_CIDADE1`
    FOREIGN KEY (`TB_CIDADE_IDCIDADE`)
    REFERENCES `PACAI_JA_WEB`.`TB_CIDADE` (`IDCIDADE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `PACAI_JA_WEB`.`TB_CLIENTE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `PACAI_JA_WEB`.`TB_CLIENTE` (
  `IDCLIENTE` INT NOT NULL AUTO_INCREMENT,
  `NOME` VARCHAR(150) NOT NULL,
  `DATANASC` DATE NOT NULL,
  `CPF` INT NOT NULL,
  `TELEFONE` INT NULL,
  `TB_ENDERECO_IDENDERECO` INT NOT NULL,
  `TB_ENDERECO_TB_CIDADE_IDCIDADE` INT NOT NULL,
  `TB_UF_IDUF` INT NOT NULL,
  PRIMARY KEY (`IDCLIENTE`, `TB_ENDERECO_IDENDERECO`, `TB_ENDERECO_TB_CIDADE_IDCIDADE`, `TB_UF_IDUF`),
  UNIQUE INDEX `idCLIENTE_UNIQUE` (`IDCLIENTE` ASC) VISIBLE,
  UNIQUE INDEX `CPF_UNIQUE` (`CPF` ASC) VISIBLE,
  INDEX `fk_TB_CLIENTE_TB_ENDERECO1_idx` (`TB_ENDERECO_IDENDERECO` ASC, `TB_ENDERECO_TB_CIDADE_IDCIDADE` ASC) VISIBLE,
  INDEX `fk_TB_CLIENTE_TB_UF1_idx` (`TB_UF_IDUF` ASC) VISIBLE,
  CONSTRAINT `fk_TB_CLIENTE_TB_ENDERECO1`
    FOREIGN KEY (`TB_ENDERECO_IDENDERECO` , `TB_ENDERECO_TB_CIDADE_IDCIDADE`)
    REFERENCES `PACAI_JA_WEB`.`TB_ENDERECO` (`IDENDERECO` , `TB_CIDADE_IDCIDADE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TB_CLIENTE_TB_UF1`
    FOREIGN KEY (`TB_UF_IDUF`)
    REFERENCES `PACAI_JA_WEB`.`TB_UF` (`IDUF`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `PACAI_JA_WEB`.`TB_USUARIO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `PACAI_JA_WEB`.`TB_USUARIO` (
  `IDUSUARIO` INT NOT NULL AUTO_INCREMENT,
  `USUARIO` VARCHAR(50) NOT NULL,
  `SENHA` VARCHAR(30) NOT NULL,
  `EMAIL` VARCHAR(10) NOT NULL,
  `TB_CLIENTE_IDCLIENTE` INT NOT NULL,
  `TB_CLIENTE_TB_ENDERECO_IDENDERECO` INT NOT NULL,
  `TB_CLIENTE_TB_ENDERECO_TB_CIDADE_IDCIDADE` INT NOT NULL,
  PRIMARY KEY (`IDUSUARIO`, `TB_CLIENTE_IDCLIENTE`, `TB_CLIENTE_TB_ENDERECO_IDENDERECO`, `TB_CLIENTE_TB_ENDERECO_TB_CIDADE_IDCIDADE`),
  UNIQUE INDEX `IDUSUARIO_UNIQUE` (`IDUSUARIO` ASC) VISIBLE,
  INDEX `fk_TB_USUARIO_TB_CLIENTE1_idx` (`TB_CLIENTE_IDCLIENTE` ASC, `TB_CLIENTE_TB_ENDERECO_IDENDERECO` ASC, `TB_CLIENTE_TB_ENDERECO_TB_CIDADE_IDCIDADE` ASC) VISIBLE,
  CONSTRAINT `fk_TB_USUARIO_TB_CLIENTE1`
    FOREIGN KEY (`TB_CLIENTE_IDCLIENTE` , `TB_CLIENTE_TB_ENDERECO_IDENDERECO` , `TB_CLIENTE_TB_ENDERECO_TB_CIDADE_IDCIDADE`)
    REFERENCES `PACAI_JA_WEB`.`TB_CLIENTE` (`IDCLIENTE` , `TB_ENDERECO_IDENDERECO` , `TB_ENDERECO_TB_CIDADE_IDCIDADE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
